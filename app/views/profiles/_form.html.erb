<%= form_with model: @profile, multipart: true, data: { turbo: false }, class: "w-full max-w-lg mx-auto space-y-6" do |form| %>
  <!-- Name Field -->
  <div>
    <%= form.label :name, "Full Name", class: "block text-sm font-semibold" %>
    <%= form.text_field :name,
                    class:
                      "w-full mt-2 px-3 py-2 border rounded-md text-sm #{"border-red-600" if @profile.errors[:name].present?}" %>
    <% if @profile.errors[:name].present? %>
      <p class="mt-1 text-red-600 text-xs"><%= @profile.errors[:name].join(", ") %></p>
    <% end %>
  </div>
  <!-- Username Field -->
  <div>
    <%= form.label :username, "Username", class: "block text-sm font-semibold" %>
    <%= form.text_field :username,
                    class:
                      "w-full mt-2 px-3 py-2 border rounded-md text-sm #{"border-red-600" if @profile.errors[:username].present?}" %>
    <% if @profile.errors[:username].present? %>
      <p class="mt-1 text-red-600 text-xs"><%= @profile.errors[:username].join(", ") %></p>
    <% end %>
  </div>
  <!-- Bio Field -->
  <div>
    <%= form.label :bio, "Bio", class: "block text-sm font-semibold" %>
    <%= form.text_area :bio,
                   class:
                     "w-full mt-2 px-3 py-2 border rounded-md text-sm #{"border-red-600" if @profile.errors[:bio].present?}",
                   rows: 4 %>
    <% if @profile.errors[:bio].present? %>
      <p class="mt-1 text-red-600 text-xs"><%= @profile.errors[:bio].join(", ") %></p>
    <% end %>
  </div>
  <!-- Avatar Upload -->
  <div>
    <%= form.label :avatar,
               "Profile Picture (Optional)",
               class: "block text-sm font-semibold" %>
    <%= form.file_field :avatar,
                    accept: "image/*",
                    class:
                      "w-full mt-2 text-sm file:mr-4 file:py-2 file:px-4 file:rounded file:border file:border-gray-300 file:text-blue-600 hover:file:bg-blue-100 cursor-pointer" %>
    <% if @profile.avatar.attached? %>
      <div class="mt-2">
        <img
          src="<%= url_for(@profile.avatar) %>"
          alt="Profile Picture"
          class="w-20 h-20 rounded-full object-cover"
        >
      </div>
    <% end %>
  </div>
  <!-- Submit Button -->
  <div>
    <%= form.submit "Update Profile",
                class:
                  "w-full px-8 py-3 font-semibold text-sm rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-600" %>
  </div>
<% end %>
